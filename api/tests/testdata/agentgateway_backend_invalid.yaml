_err: deploymentName is required for this apiVersion
apiVersion: gateway.kgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  name: azure-invalid-deployment-name
spec:
  ai:
    provider:
      azureopenai:
        apiVersion: 2024-01-01
        endpoint: test
---
_err: AI policies require AI
apiVersion: gateway.kgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  name: ai-pol-without-ai
spec:
  static:
    host: example.com
    port: 80
  policies:
    ai:
      defaults:
        - field: hi
          value: 1
---
_err: MCP policies require MCP
apiVersion: gateway.kgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  name: mcp-pol-without-mcp
spec:
  static:
    host: example.com
    port: 80
  policies:
    mcp:
      authorization:
        policy:
          matchExpressions:
          - 'true'
---
_err: both host and port must be set together
apiVersion: gateway.kgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  name: host-without-port
spec:
  ai:
    provider:
      openai: {}
      host: example.com