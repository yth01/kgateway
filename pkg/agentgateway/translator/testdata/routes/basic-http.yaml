apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: test-route
  namespace: default
spec:
  parentRefs:
  - name: test-gateway
  hostnames:
  - example.com
  rules:
  - matches:
    - path:
        type: PathPrefix
        value: /api
    backendRefs:
    - name: test-service
      port: 80
---
apiVersion: v1
kind: Service
metadata:
  name: test-service
  namespace: default
spec:
  ports:
  - port: 80
---
apiVersion: v1
kind: Namespace
metadata:
  name: default
---
# Output
output:
- gateway:
    Name: test-gateway
    Namespace: default
  resource:
    route:
      backends:
      - backend:
          port: 80
          service: default/test-service.default.svc.cluster.local
        weight: 1
      hostnames:
      - example.com
      key: default/test-route.0.0.http
      listenerKey: test-gateway
      matches:
      - path:
          pathPrefix: /api
      routeName: default/test-route
