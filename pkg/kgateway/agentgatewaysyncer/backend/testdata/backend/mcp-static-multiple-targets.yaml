apiVersion: agentgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  namespace: default
  name: mcp-multi-static
spec:
  mcp:
    targets:
    - name: sse-target
      static:
        host: sse.example.com
        port: 8080
        path: /sse
        protocol: SSE
    - name: http-target
      static:
        host: http.example.com
        port: 9090
        path: /mcp
        protocol: StreamableHTTP
---
# Output
output:
- backend:
    key: default/mcp-multi-static/sse-target
    name:
      name: mcp-multi-static
      namespace: default
    static:
      host: sse.example.com
      port: 8080
- backend:
    key: default/mcp-multi-static/http-target
    name:
      name: mcp-multi-static
      namespace: default
    static:
      host: http.example.com
      port: 9090
- backend:
    key: default/mcp-multi-static
    mcp:
      targets:
      - backend:
          backend: default/mcp-multi-static/sse-target
        name: sse-target
        path: /sse
        protocol: SSE
      - backend:
          backend: default/mcp-multi-static/http-target
        name: http-target
        path: /mcp
        protocol: STREAMABLE_HTTP
    name:
      name: mcp-multi-static
      namespace: default
status:
  conditions:
  - lastTransitionTime: fake
    message: Backend successfully accepted
    reason: Accepted
    status: "True"
    type: Accepted
