apiVersion: agentgateway.dev/v1alpha1
kind: AgentgatewayBackend
metadata:
  namespace: default
  name: mcp-backend
spec:
  mcp:
    targets:
    - name: mcp-example
      selector:
        namespaces:
          matchLabels:
            kubernetes.io/metadata.name: mcp-servers
  policies:
    mcp:
      authentication:
        jwks:
          jwksPath: /
          backendRef:
              group: ""
              kind: Service
              name: store-uninitialized
              port: 8080
---
# Output
output: []
status:
  conditions:
  - lastTransitionTime: fake
    message: 'failed to translate backend: jwks store hasn''t been initialized'
    reason: TranslationError
    status: "False"
    type: Accepted
