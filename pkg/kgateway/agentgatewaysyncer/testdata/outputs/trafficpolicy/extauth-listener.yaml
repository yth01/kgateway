Addresses:
- service:
    hostname: example-svc.default.svc.cluster.local
    name: example-svc
    namespace: default
    ports:
    - servicePort: 80
- service:
    hostname: ext-authz.default.svc.cluster.local
    name: ext-authz
    namespace: default
    ports:
    - appProtocol: HTTP2
      servicePort: 4444
      targetPort: 9000
Binds:
- key: 80/default/example-gateway
  port: 80
- key: 90/default/example-gateway
  port: 90
Listeners:
- bindKey: 90/default/example-gateway
  key: default/example-gateway.bar
  name:
    gatewayName: example-gateway
    gatewayNamespace: default
    listenerName: bar
  protocol: HTTP
- bindKey: 80/default/example-gateway
  key: default/example-gateway.foo
  name:
    gatewayName: example-gateway
    gatewayNamespace: default
    listenerName: foo
  protocol: HTTP
Policies:
- key: traffic/default/secure-route-policy:extauth:default/example-gateway/foo
  name:
    kind: AgentgatewayPolicy
    name: secure-route-policy
    namespace: default
  target:
    gateway:
      listener: foo
      name: example-gateway
      namespace: default
  traffic:
    extAuthz:
      includeRequestBody:
        allowPartialMessage: true
        maxRequestBytes: 1024
      target:
        port: 4444
        service:
          hostname: ext-authz.default.svc.cluster.local
          namespace: default
Routes:
- backends:
  - backend:
      port: 80
      service:
        hostname: example-svc.default.svc.cluster.local
        namespace: default
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.0.0.bar
  listenerKey: default/example-gateway.bar
  name:
    kind: HTTPRoute
    name: example-route
    namespace: default
- backends:
  - backend:
      port: 80
      service:
        hostname: example-svc.default.svc.cluster.local
        namespace: default
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.0.0.foo
  listenerKey: default/example-gateway.foo
  name:
    kind: HTTPRoute
    name: example-route
    namespace: default
