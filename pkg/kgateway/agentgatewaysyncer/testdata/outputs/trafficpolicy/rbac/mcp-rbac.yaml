Addresses:
- service:
    hostname: example-svc.default.svc.cluster.local
    name: example-svc
    namespace: default
    ports:
    - servicePort: 80
Backends:
- key: default/mcp-backend
  mcp:
    targets:
    - backend:
        port: 80
        service:
          hostname: example-svc.default.svc.cluster.local
          namespace: default
      name: example-svc-80
      protocol: STREAMABLE_HTTP
  name:
    name: mcp-backend
    namespace: default
Binds:
- key: 80/default/example-gateway
  port: 80
Listeners:
- bindKey: 80/default/example-gateway
  key: default/example-gateway.http
  name:
    gatewayName: example-gateway
    gatewayNamespace: default
    listenerName: http
  protocol: HTTP
Policies:
- backend:
    mcpAuthorization:
      allow:
      - mcp.tool.name == "echo"
      - jwt.sub == "test-user" && mcp.tool.name == "add"
      - mcp.tool.name == "printEnv" && jwt.nested.key == "value"
  key: default/cel-rbac-policy:mcp-authorization:default/mcp-backend
  name:
    kind: AgentgatewayPolicy
    name: cel-rbac-policy
    namespace: default
  target:
    backend:
      name: mcp-backend
      namespace: default
Routes:
- backends:
  - backend:
      backend: default/mcp-backend
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.0.0.http
  listenerKey: default/example-gateway.http
  name:
    kind: HTTPRoute
    name: example-route
    namespace: default
